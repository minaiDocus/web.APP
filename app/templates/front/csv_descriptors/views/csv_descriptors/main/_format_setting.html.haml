.container
  #csv_descriptors.edit
    = stylesheet_link_tag 'front/csv_descriptors/assets/stylesheets/main'

    - url = organization_csv_descriptor_path(@organization)
    - url = organization_customer_csv_descriptor_path(@organization, @customer) if @customer.present?
    = simple_form_for @csv_descriptor, url: url, html: { id: 'edit_format_csv_descriptor', class: 'form-horizontal label-auto' } do |f|
      .card-body
        .row
          .col-md-6
            .row-fluid
              .col-md-12
                Ajouter les champs souhaités.
                %b Un « Séparateur » est ajouté automatiquement après chacun des champs sélectionnés.
                %br
                Le « Séparateur » est constitué d’un point-virgule
                %span.separator ;
                , cliquez dessus pour en
                %b Ajouter ou Supprimer
                .row
                  .col-md-6.padding1top
                    = link_to 'Ajouter un champ', '#', class: 'btn btn-primary add_field'
                    = link_to 'Ajouter tous les champs', '#', class: 'btn btn-success add_all_fields'
                    %br
                    = link_to 'Supprimer tous les champs', '#', data: { confirm: 'Etes-vous sûr ?' }, class: 'btn btn-danger remove_all_fields', style: 'margin-bottom: 1.5rem;margin-top: 0.3rem;'
                  .col-md-6.clearfix
                    .float-right
                      = f.input :directive, as: :hidden
                      = f.input :comma_as_number_separator, as: :boolean

            .row-fluid.margin2bottom
              .col-md-12.clearfix.border.box.bg-light
                .fields
                  %ul.list.clearfix
                    - @csv_descriptor.directive_to_h.each do |part|
                      = render partial: 'field', locals: { part: part }

            .template.hide= render partial: 'field', locals: { selected: :date }
          .col-md-6
            = render partial: 'legend'

    = javascript_include_tag 'front/csv_descriptors/assets/javascripts/main'