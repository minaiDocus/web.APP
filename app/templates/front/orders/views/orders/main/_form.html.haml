%div{ class: (@order.dematbox? ? 'dematbox_form' : 'paper_set_form') }
  = f.hidden_field :type
  - if @order.dematbox?
    - if @user.organization.code == 'DC'
      = f.input :dematbox_count, collection: [['1 (359€HT – frais de port inclus)', 1], ['2 (718€HT – frais de port inclus)', 2], ['10 (2.990€HT + frais de port 10€)', 10]], include_blank: false, label_html: { class: 'semibold' }, input_html: { class: 'form-control select form-select form-select-sm optional required_field'}
    -else
      = f.input :dematbox_count, collection: [['1 (359€HT – frais de port inclus)', 1], ['2 (718€HT – frais de port inclus)', 2]], include_blank: false, label_html: { class: 'semibold' }, input_html: { class: 'form-control select form-select form-select-sm optional required_field'}
    %hr
    %b Merci de remplir l’intégralité des champs afin d’assurer une parfaite livraison de la part de Sagemcom
    %br
    %br
    = f.simple_fields_for :address do |builder|
      .row
        .col-md-6
          = builder.label :last_name, label: 'Nom du contact', :class => "semibold"
          .select-container.no-padding.w-100
            = builder.input :last_name, label: false, input_html: { class: 'last_name_field required_field' }, required: true
          = builder.label :first_name, label: 'Prénom du contact', :class => "semibold"
          .select-container.no-padding.w-100
            = builder.input :first_name, label: false, input_html: { class: 'first_name_field required_field' }, required: true
          = builder.label :phone, label: 'Numéro de téléphone direct (fixe ou mobile)', :class => "semibold"
          .select-container.no-padding.w-100
            = builder.input :phone, label: false, input_html: { class: 'phone_field required_field' }, required: true
          = builder.label :company, label: 'Nom de la société', :class => "semibold"
          .select-container.no-padding.w-100
            = builder.input :company, label: false, input_html: { class: 'company_field required_field' }, required: true
          = builder.label :company_number, label: 'N° de Siret', :class => "semibold"
          .select-container.no-padding.w-100
            = builder.input :company_number, label: false, input_html: { class: 'company_number_field required_field' }, required: true
        .col-md-6
          = builder.label :address_1, label: 'N° et libellé de la voie', :class => "semibold"
          .select-container.no-padding.w-100
            = builder.input :address_1, label: false, input_html: { class: 'address_1_field required_field' }, required: true
          = builder.label :place_called_or_postal_box, label: 'Lieu-dit ou BP', :class => "semibold"
          .select-container.no-padding.w-100
            = builder.input :place_called_or_postal_box, label: false, input_html: { class: 'place_called_or_postal_box_field' }
          = builder.label :zip, label: 'Code postal', :class => "semibold"
          .select-container.no-padding.w-100
            = builder.input :zip, label: false, input_html: { class: 'zip_field required_field' }, required: true
          = builder.label :city, label: 'Ville', :class => "semibold"
          .select-container.no-padding.w-100
            = builder.input :city, label: false, input_html: { class: 'city_field required_field' }, required: true
          = builder.label :building, label: 'Bâtiment et appartement', :class => "semibold"
          .select-container.no-padding.w-100
            = builder.input :building, label: false, input_html: { class: 'building_field' }
          = builder.label :door_code, label: 'Digicode', :class => "semibold"
          .select-container.no-padding.w-100
            = builder.input :door_code, label: false, input_html: { class: 'door_code_field' }
          = builder.label :other, label: 'Autre (sonnerie, concierge...)', :class => "semibold"
          .select-container.no-padding.w-100
            = builder.input :other, label: false, input_html: { class: 'other_field' }
  - else
    %h4 Commande d’un kit complet pour envoi du courrier à iDocus
    %hr
    %input#paper_set_prices{ value: "#{@paper_set_prices}", type: :hidden }
    .row
      .col-md-4
        = f.hidden_field :period_duration
        = f.input :paper_set_casing_size, collection: [['500g', 500], ['1000g', 1000], ['3000g', '3000']], include_blank: false, label_html: { class: 'semibold' }, input_html: { class: 'form-control select form-select form-select-sm optional required_field'}
        = f.input :paper_set_casing_count, collection: [], include_blank: true, label_html: { class: 'semibold' }, input_html: { class: 'form-control select form-select form-select-sm optional required_field'}
        = hidden_field_tag :paper_set_casing_count_hidden, @order.paper_set_casing_count.to_i
        = f.input :paper_set_folder_count, collection: 5..10, include_blank: false, label_html: { class: 'semibold' }, input_html: { class: 'form-control select form-select form-select-sm optional required_field'},  hint: ' Correspond au nombre de journaux comptables paramétrés dans le dossier (5 étant le minimum offert par iDocus).'
        = f.input :paper_set_start_date, collection: paper_set_start_date_options(@order), include_blank: false, label_html: { class: 'semibold' }, input_html: { class: 'form-control select form-select form-select-sm optional required_field'}
        = f.input :paper_set_end_date, collection: paper_set_end_date_options(@order), include_blank: false, label_html: { class: 'semibold' }, input_html: { class: 'form-control select form-select form-select-sm optional required_field'}
      .col-md-4
        %h4 Adresse de livraison du kit envoi courrier
        %hr
        = f.simple_fields_for :address do |builder|
          = builder.label :company, label: 'Nom de la société', :class => "semibold"
          .select-container.no-padding.w-100
            = builder.input :company, label: false, input_html: { class: 'company_field' }
          = builder.label :last_name, label: 'Nom', :class => "semibold"
          .select-container.no-padding.w-100
            = builder.input :last_name, label: false, input_html: { class: 'last_name_field required_field' }, required: true
          = builder.label :first_name, label: 'Prénom', :class => "semibold"
          .select-container.no-padding.w-100
            = builder.input :first_name, label: false, input_html: { class: 'first_name_field required_field' }, required: true
          = builder.label :address_1, label: 'Adresse', :class => "semibold"
          .select-container.no-padding.w-100
            = builder.input :address_1, label: false, input_html: { class: 'address_1_field required_field' }, required: true
          = builder.label :address_2, label: 'Adresse (suite)', :class => "semibold"
          .select-container.no-padding.w-100
            = builder.input :address_2, label: false, input_html: { class: 'address_2_field' }
          = builder.label :city, label: 'Ville', :class => "semibold"
          .select-container.no-padding.w-100
            = builder.input :city, label: false, input_html: { class: 'city_field required_field' }, required: true
          = builder.label :zip, label: 'Code postal', :class => "semibold"
          .select-container.no-padding.w-100
            = builder.input :zip, label: false, input_html: { class: 'zip_field required_field' }, required: true
      .col-md-4
        %h4 Adresse de retour des papiers numérisés
        %hr
        = f.simple_fields_for :paper_return_address do |builder|
          = builder.label :company, label: 'Nom de la société', :class => "semibold"
          .select-container.no-padding.w-100
            = builder.input :company, label: false, input_html: { class: 'company_field' }
          = builder.label :last_name, label: 'Nom', :class => "semibold"
          .select-container.no-padding.w-100
            = builder.input :last_name, label: false, input_html: { class: 'last_name_field required_field' }, required: true
          = builder.label :first_name, label: 'Prénom', :class => "semibold"
          .select-container.no-padding.w-100
            = builder.input :first_name, label: false, input_html: { class: 'first_name_field required_field' }, required: true
          = builder.label :address_1, label: 'Adresse', :class => "semibold"
          .select-container.no-padding.w-100
            = builder.input :address_1, label: false, input_html: { class: 'address_1_field required_field' }, required: true
          = builder.label :address_2, label: 'Adresse (suite)', :class => "semibold"
          .select-container.no-padding.w-100
            = builder.input :address_2, label: false, input_html: { class: 'address_2_field' }
          = builder.label :city, label: 'Ville', :class => "semibold"
          .select-container.no-padding.w-100
            = builder.input :city, label: false, input_html: { class: 'city_field required_field' }, required: true
          = builder.label :zip, label: 'Code postal', :class => "semibold"
          .select-container.no-padding.w-100
            = builder.input :zip, label: false, input_html: { class: 'zip_field required_field' }, required: true
        = link_to "Copier l'adresse livraison de kit", '#', class: 'copy_address btn btn-secondary'
    .w-100.text-center
      %h5 Total de la commande :
      %b.total_price{ style: 'font-size:20px' }

.form-grou.footer-form
  .w-100.text-end
    - if @customer.configured?
      = link_to 'Annuler', organization_customer_path(@organization, @customer, tab: 'orders'), class: 'btn btn-light'
      = f.submit 'Commander', class: 'btn btn-primary bold'
